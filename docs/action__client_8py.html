<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>assignment1_rt2: scripts/action_client.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">assignment1_rt2
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Documentation of the python code for the ros package</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_53e6fa9553ac22a5646d2a2b2d7b97a1.html">scripts</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">action_client.py File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The user can set or remove a specific goal to make the robot moves.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa73b11bbad55b91ca1fe63acc236b20a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="action__client_8py.html#aa73b11bbad55b91ca1fe63acc236b20a">action_client.odom_callback</a> (msg)</td></tr>
<tr class="memdesc:aa73b11bbad55b91ca1fe63acc236b20a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The callback function of the subscriber.  <a href="action__client_8py.html#aa73b11bbad55b91ca1fe63acc236b20a">More...</a><br /></td></tr>
<tr class="separator:aa73b11bbad55b91ca1fe63acc236b20a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d661b687a2ef1a2850045bbe55bf2a8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="action__client_8py.html#a4d661b687a2ef1a2850045bbe55bf2a8">action_client.feedback_callback</a> (feedback)</td></tr>
<tr class="memdesc:a4d661b687a2ef1a2850045bbe55bf2a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The callback function of the action client.  <a href="action__client_8py.html#a4d661b687a2ef1a2850045bbe55bf2a8">More...</a><br /></td></tr>
<tr class="separator:a4d661b687a2ef1a2850045bbe55bf2a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb78f6157f3f46f032309b288e1351ab"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="action__client_8py.html#aeb78f6157f3f46f032309b288e1351ab">action_client.send_goal</a> (client, x, y)</td></tr>
<tr class="memdesc:aeb78f6157f3f46f032309b288e1351ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function sets a new goal.  <a href="action__client_8py.html#aeb78f6157f3f46f032309b288e1351ab">More...</a><br /></td></tr>
<tr class="separator:aeb78f6157f3f46f032309b288e1351ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae27a96af02ed1fef3aec4c6f029c0079"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="action__client_8py.html#ae27a96af02ed1fef3aec4c6f029c0079">action_client.cancel_goal</a> (client)</td></tr>
<tr class="memdesc:ae27a96af02ed1fef3aec4c6f029c0079"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function cancels an active goal.  <a href="action__client_8py.html#ae27a96af02ed1fef3aec4c6f029c0079">More...</a><br /></td></tr>
<tr class="separator:ae27a96af02ed1fef3aec4c6f029c0079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e6905deb172fff439a916e770f56157"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="action__client_8py.html#a0e6905deb172fff439a916e770f56157">action_client.get_input</a> ()</td></tr>
<tr class="memdesc:a0e6905deb172fff439a916e770f56157"><td class="mdescLeft">&#160;</td><td class="mdescRight">The input function.  <a href="action__client_8py.html#a0e6905deb172fff439a916e770f56157">More...</a><br /></td></tr>
<tr class="separator:a0e6905deb172fff439a916e770f56157"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aece5b3dc7f370ff7ab45e105b5e6bbaa"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="action__client_8py.html#aece5b3dc7f370ff7ab45e105b5e6bbaa">action_client.main</a> ()</td></tr>
<tr class="memdesc:aece5b3dc7f370ff7ab45e105b5e6bbaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main fuction.  <a href="action__client_8py.html#aece5b3dc7f370ff7ab45e105b5e6bbaa">More...</a><br /></td></tr>
<tr class="separator:aece5b3dc7f370ff7ab45e105b5e6bbaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac5f614c4328c1e32f20c83588c6ee15f"><td class="memItemLeft" align="right" valign="top"><a id="ac5f614c4328c1e32f20c83588c6ee15f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>action_client.pub_position_vel</b> = None</td></tr>
<tr class="separator:ac5f614c4328c1e32f20c83588c6ee15f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The user can set or remove a specific goal to make the robot moves. </p>
<dl class="section author"><dt>Author</dt><dd>Alessandro Mangili </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>9/03/2025</dd></dl>
<p>Subscribes to: <br  />
 /odom</p>
<p>Publishes to: <br  />
 /robot_information</p>
<p>Description: <br  />
 The code creates an action client that interacts with the user, allowing them to:</p><ol type="1">
<li>Set a new target goal</li>
<li>Delete the active goal</li>
<li>Exit the program</li>
</ol>
<p>The action client sends the user's request to the action server. If the request is to add a new target goal, the server adds it and initiates the robot's movement. If the request is to cancel the active goal, the server checks for an active or pending goal, if one exists, it cancels it and notifies the action client of the deletion. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ae27a96af02ed1fef3aec4c6f029c0079"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae27a96af02ed1fef3aec4c6f029c0079">&#9670;&nbsp;</a></span>cancel_goal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def action_client.cancel_goal </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function cancels an active goal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>The instance of the action client</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>The function cancels an active or pending goal by sending a request to the action server. If no active or pending goal exists, it prompts a warning message. If the cancellation request fails, the function prompt a warning message </p>

</div>
</div>
<a id="a4d661b687a2ef1a2850045bbe55bf2a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d661b687a2ef1a2850045bbe55bf2a8">&#9670;&nbsp;</a></span>feedback_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def action_client.feedback_callback </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>feedback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The callback function of the action client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">feedback</td><td>The message contains the status of the active goal provided by the action server</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>The function checks whether the robot has reached the target by evaluating the feedback status, if it has, it alerts the user by printing a message on the console </p>

</div>
</div>
<a id="a0e6905deb172fff439a916e770f56157"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e6905deb172fff439a916e770f56157">&#9670;&nbsp;</a></span>get_input()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def action_client.get_input </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The input function. </p>
<dl class="section return"><dt>Returns</dt><dd>The x and y coordinates of the target goal, converted to float</dd></dl>
<p>The function prompts the user to enter the x and y coordinates of the target goal. If the user enters a non-numeric value, it notifies the error by displaying a warning message </p>

</div>
</div>
<a id="aece5b3dc7f370ff7ab45e105b5e6bbaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aece5b3dc7f370ff7ab45e105b5e6bbaa">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def action_client.main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The main fuction. </p>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>The function manages both a publisher and subscriber, and creates a client action to communicate the user's choise to the action server. The possible choise are:</p><ul>
<li>'s': send a new target goal</li>
<li>'c': cancel an active or pending goal</li>
<li>'q': exit the program </li>
</ul>

</div>
</div>
<a id="aa73b11bbad55b91ca1fe63acc236b20a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa73b11bbad55b91ca1fe63acc236b20a">&#9670;&nbsp;</a></span>odom_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def action_client.odom_callback </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The callback function of the subscriber. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message contains the position and velocity information</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>The function retrieves the robot's position and velocity from the /odom topic and publishes this information to the /robot_information topic </p>

</div>
</div>
<a id="aeb78f6157f3f46f032309b288e1351ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb78f6157f3f46f032309b288e1351ab">&#9670;&nbsp;</a></span>send_goal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def action_client.send_goal </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function sets a new goal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>The instance of the action client </td></tr>
    <tr><td class="paramname">x</td><td>The x coordinate of the target goal </td></tr>
    <tr><td class="paramname">y</td><td>The y coordinate of the target goal</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>The function sets the position of the target goal (x and y coordinates) using the provided parameters and send it to the action server </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
